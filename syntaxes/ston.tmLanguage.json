{
	"$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"scopeName": "source.ston",
	"patterns": [
		{
			"include": "#topObject"
		},
		{
			"include": "#topArray"
		},
		{
			"include": "#topString"
		},
		{
			"include": "#topNumber"
		},
		{
			"include": "#topBoolean"
		},
		{
			"include": "#topUnquotedString"
		},
		{
			"include": "#space"
		},
		{
			"include": "#topInvalid"
		}
	],
	"repository": {
		"blockComment": {
			"begin": "/\\*",
			"end": "\\*/",
			"name": "comment.block"
		},
		"lineComment": {
			"begin": "//",
			"end": "$",
			"name": "comment.line"
		},
		"invalid": {
			"begin": "(?=.)",
			"end": "$",
			"name": "invalid.illegal"
		},
		"space": {
			"match": "\\s"
		},
		"comma": {
			"match": ","
		},
		"number": {
			"name": "constant.numeric",
			"match": "(?<=(?:^|[\\['},])\\s*)(?:[+-]?Infinity|NaN|0x[\\da-fA-F]+|0o[0-7]+|0b[01]+|[+-]?(?:\\d*\\.?\\d+|\\d+\\.)(?:e[+-]?\\d+)?)(?=\\s*(?:$|['{}\\[\\],]))"
		},
		"boolean": {
			"name": "constant.language",
			"match": "(?<=(?:^|[\\['},])\\s*)(?:true|false)(?=\\s*(?:$|['{}\\[\\],]))"
		},
		"unquotedString": {
			"name": "string.unquoted",
			"match": "(?<=(?:^|[\\['},])\\s*)[^\\s'{}\\[\\],][^'{}\\[\\],]*?(?=\\s*(?:$|['{}\\[\\],]))"
		},
		"string": {
			"name": "string.quoted.single",
			"begin": "'",
			"end": "'",
			"patterns": [
				{
					"name": "constant.character.escape",
					"match": "\\\\['\\\\]"
				}
			]
		},
		"val": {
			"patterns": [
				{
					"include": "#string"
				},
				{
					"include": "#object"
				},
				{
					"include": "#array"
				},
				{
					"name": "constant.numeric",
					"match": "(?<=[a-zA-Z0-9_-]+\\s+)(?:[+-]?Infinity|NaN|0x[\\da-fA-F]+|0o[0-7]+|0b[01]+|[+-]?(?:\\d*\\.?\\d+|\\d+\\.)(?:e[+-]?\\d+)?)(?=\\s*(?:$|['{}\\[\\],]))"
				},
				{
					"name": "constant.language",
					"match": "(?<=[a-zA-Z0-9_-]+\\s+)(?:true|false)(?=\\s*(?:$|['{}\\[\\],]))"
				},
				{
					"name": "string.unquoted",
					"match": "(?<=[a-zA-Z0-9_-]+\\s+)[^\\s'{}\\[\\],][^'{}\\[\\],]*?(?=\\s*(?:$|['{}\\[\\],]))"
				}
			]
		},
		"key": {
			"match": "(?<=(?:^|['{}\\],])\\s*)[a-zA-Z0-9_-]+(?=\\s*[\\s'{}\\[,])",
			"name": "entity.other.attribute-name"
		},
		"object": {
			"begin": "\\{",
			"end": "\\}",
			"patterns": [
				{
					"include": "#blockComment"
				},
				{
					"include": "#lineComment"
				},
				{
					"include": "#val"
				},
				{
					"include": "#key"
				},
				{
					"include": "#comma"
				},
				{
					"include": "#space"
				},
				{
					"include": "#invalid"
				}
			]
		},
		"array": {
			"begin": "\\[",
			"end": "\\]",
			"patterns": [
				{
					"include": "#blockComment"
				},
				{
					"include": "#lineComment"
				},
				{
					"include": "#string"
				},
				{
					"include": "#object"
				},
				{
					"include": "#array"
				},
				{
					"include": "#comma"
				},
				{
					"include": "#number"
				},
				{
					"include": "#boolean"
				},
				{
					"include": "#unquotedString"
				},
				{
					"include": "#space"
				},
				{
					"include": "#invalid"
				}
			]
		},
		"topInvalid": {
			"begin": "(?=.)",
			"while": "",
			"name": "invalid.illegal"
		},
		"topObject": {
			"begin": "\\{",
			"while": "",
			"patterns": [
				{
					"include": "#blockComment"
				},
				{
					"include": "#lineComment"
				},
				{
					"include": "#val"
				},
				{
					"include": "#key"
				},
				{
					"include": "#comma"
				},
				{
					"include": "#space"
				},
				{
					"begin": "\\}",
					"while": "",
					"patterns": [
						{
							"include": "#space"
						},
						{
							"include": "#topInvalid"
						}
					]
				},
				{
					"include": "#topInvalid"
				}
			]
		},
		"topArray": {
			"begin": "\\[",
			"while": "",
			"patterns": [
				{
					"include": "#blockComment"
				},
				{
					"include": "#lineComment"
				},
				{
					"include": "#string"
				},
				{
					"include": "#object"
				},
				{
					"include": "#array"
				},
				{
					"include": "#comma"
				},
				{
					"include": "#number"
				},
				{
					"include": "#boolean"
				},
				{
					"include": "#unquotedString"
				},
				{
					"include": "#space"
				},
				{
					"begin": "\\]",
					"while": "",
					"patterns": [
						{
							"include": "#space"
						},
						{
							"include": "#topInvalid"
						}
					]
				},
				{
					"include": "#topInvalid"
				}
			]
		},
		"topString": {
			"name": "string.quoted.single",
			"begin": "'",
			"while": "",
			"patterns": [
				{
					"name": "constant.character.escape",
					"match": "\\\\['\\\\]"
				},
				{
					"begin": "'",
					"while": "",
					"patterns": [
						{
							"include": "#space"
						},
						{
							"include": "#topInvalid"
						}
					]
				}
			]
		},
		"topNumber": {
			"begin": "(?<=(?:^|[\\['},])\\s*)(?:[+-]?Infinity|NaN|0x[\\da-fA-F]+|0o[0-7]+|0b[01]+|[+-]?(?:\\d*\\.?\\d+|\\d+\\.)(?:e[+-]?\\d+)?)(?=\\s*(?:$|['{}\\[\\],]))",
			"while": "",
			"beginCaptures": {
				"0": {
					"name": "constant.numeric"
				}
			},
			"patterns": [
				{
					"include": "#space"
				},
				{
					"include": "#topInvalid"
				}
			]
		},
		"topBoolean": {
			"begin": "(?<=(?:^|[\\['},])\\s*)(?:true|false)(?=\\s*(?:$|['{}\\[\\],]))",
			"while": "",
			"beginCaptures": {
				"0": {
					"name": "constant.language"
				}
			},
			"patterns": [
				{
					"include": "#space"
				},
				{
					"include": "#topInvalid"
				}
			]
		},
		"topUnquotedString": {
			"begin": "(?<=(?:^|[\\['},])\\s*)[^\\s'{}\\[\\],][^'{}\\[\\],]*?(?=\\s*(?:$|['{}\\[\\],]))",
			"while": "",
			"beginCaptures": {
				"0": {
					"name": "string.unquoted"
				}
			},
			"patterns": [
				{
					"include": "#space"
				},
				{
					"include": "#topInvalid"
				}
			]
		}
	}
}